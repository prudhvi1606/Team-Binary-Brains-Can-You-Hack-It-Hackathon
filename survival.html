<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Galaxy Miner â€“ Survival Mode</title>
  <style>
    body { margin: 0; background: #080c21; font-family: Arial, sans-serif; color: #eef; overflow: hidden;}
    canvas { display: block; margin: 0 auto; position: absolute; top: 0; left: 0;}
    #gameOverDialog, #doubleGunPopup {
      display: none;
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.85);
      color: white;
      padding: 20px 30px;
      text-align: center;
      border-radius: 10px;
      z-index: 10;
      box-shadow: 0 0 15px white;
    }
    #gameOverDialog h2 { margin: 0 0 15px 0; font-size: 32px; }
    #restartBtn {
      padding: 12px 25px; font-size: 18px; cursor: pointer;
      border: none; border-radius: 5px;
      background-color: #00bcd4; color: #000;
      transition: background-color 0.3s ease;
    }
    #restartBtn:hover { background-color: #0097a7; }
    #malfunctionMsg {
      display: none; position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
      font-size: 1.45rem; color: #ff6a7a;
      background: rgba(0,0,0,0.8); padding: 16px 34px; border-radius: 13px;
      border: 2px solid #ff1a5c; z-index: 21; text-shadow: 0 0 8px #fff1;
      box-shadow: 0 0 12px #ff0a;
      pointer-events:none;
    }
    #survivalTimeBox {
      position: absolute; left: 50%; top: 18px; z-index: 5;
      transform: translateX(-50%);
      background: rgba(12,35,62,0.8);
      border-radius: 32px; border: 2px solid #31b5ff;
      padding: 16px 36px; color: #f6e7bb; font-size: 1.45rem; text-align: center;
      text-shadow:0 0 8px #1ff;
      font-weight:bold;
      letter-spacing:2px;
    }
    #survivalTimeBox b { color: #ffe98c; }
  </style>
</head>
<body>
<canvas id="bgCanvas"></canvas>
<canvas id="gameCanvas" width="1250" height="700"></canvas>
<div id="gameOverDialog">
  <h2>Game Over</h2>
  <p id="finalScore"></p>
  <button id="restartBtn">Restart</button>
</div>
<div id="malfunctionMsg">Weapon malfunction!</div>
<div id="doubleGunPopup">Double Gun Mode Activated!</div>
<div id="survivalTimeBox"></div>
<audio id="audio-shoot" src="shootfin.mp3"></audio>
<audio id="audio-win" src="win_1.mp3"></audio>
<audio id="audio-lose" src="game0ver1.mp3"></audio>
<script>
// --- Starfield (unchanged) ---
const bgCanvas = document.getElementById('bgCanvas');
const bgCtx = bgCanvas.getContext('2d');
function resizeBgCanvas() { bgCanvas.width = window.innerWidth; bgCanvas.height = window.innerHeight; }
resizeBgCanvas();
class StarParticle {
  constructor(effect){
    this.effect = effect;
    this.radiusBase = 1.3 + Math.random() * 2.0;
    this.radius = this.radiusBase;
    this.x = Math.random() * this.effect.width; this.y = Math.random() * this.effect.height;
    this.twinklePhase = Math.random() * Math.PI * 2;
    this.twinkleSpeed = 0.63 + Math.random() * 0.74;
    this.opacityBase = 0.50 + Math.random() * 0.25;
    this.opacity = this.opacityBase;
    this.speedX = 0.80 + Math.random() * 0.42;
  }
  draw(context, t){
    this.radius = this.radiusBase + Math.sin(this.twinklePhase + t * this.twinkleSpeed) * 0.46;
    this.opacity = this.opacityBase + Math.sin(this.twinklePhase + t * this.twinkleSpeed) * 0.18;
    context.save(); context.globalAlpha = Math.max(0.1, Math.min(1, this.opacity)); context.beginPath();
    context.arc(this.x, this.y, Math.max(1, this.radius), 0, Math.PI * 2); context.fillStyle = "#fff";
    context.shadowColor = "#fff"; context.shadowBlur = 11 + (this.radius * 2.2); context.fill(); context.restore();
  }
  update(dt){
    this.x -= this.speedX * dt * 0.025;
    if (this.x < -this.radius) this.x = this.effect.width + this.radius;
    if (this.y < 0) this.y = this.effect.height; if (this.y > this.effect.height) this.y = 0;
  }
  reset(){ this.x = Math.random() * this.effect.width; this.y = Math.random() * this.effect.height; }
}
class StarNetworkEffect {
  constructor(canvas, ctx){
    this.canvas = canvas; this.context = ctx; this.width = canvas.width; this.height = canvas.height;
    this.particles = []; this.numberOfParticles = Math.max(Math.floor((this.width * this.height) / 1300), 70);
    this.maxLinkDist = Math.max(this.width, this.height) / 10.8; this.createParticles();
    window.addEventListener('resize', () => this.resize(window.innerWidth, window.innerHeight));
  }
  createParticles(){ this.particles = []; for (let i = 0; i < this.numberOfParticles; i++) this.particles.push(new StarParticle(this)); }
  connectStars(ctx){ for (let a = 0; a < this.particles.length; a++) for (let b = a+1; b < this.particles.length; b++){
    const dx = this.particles[a].x - this.particles[b].x, dy = this.particles[a].y - this.particles[b].y, distsq = dx*dx + dy*dy, maxDistSq = this.maxLinkDist*this.maxLinkDist;
    if (distsq < maxDistSq){ const dist = Math.sqrt(distsq), fade = 0.37 - dist / this.maxLinkDist;
    if(fade>0){ ctx.save(); ctx.globalAlpha = Math.max(0, fade*0.76); ctx.strokeStyle = "#fff";
    ctx.lineWidth = 0.8 + 0.5*(this.particles[a].radius+this.particles[b].radius)*0.47; ctx.beginPath(); ctx.moveTo(this.particles[a].x, this.particles[a].y);
    ctx.lineTo(this.particles[b].x, this.particles[b].y); ctx.stroke(); ctx.restore(); }}}}
  handleParticles(ctx, now, dt){ this.connectStars(ctx); this.particles.forEach(particle => {particle.draw(ctx, now); particle.update(dt);}); }
  resize(width, height){ this.canvas.width = width; this.canvas.height = height; this.width = width; this.height = height;
    this.numberOfParticles = Math.max(Math.floor((width * height) / 1300), 70); this.maxLinkDist = Math.max(width, height) / 10.8; this.createParticles(); }
}
const starNet = new StarNetworkEffect(bgCanvas, bgCtx);
let lastBgTime = performance.now();
function animateBackground(){
  bgCtx.clearRect(0, 0, bgCanvas.width, bgCanvas.height);
  const now = performance.now() * 0.002, cur = performance.now(), dt = Math.max(7, cur - lastBgTime);
  lastBgTime = cur; starNet.handleParticles(bgCtx, now, dt); requestAnimationFrame(animateBackground);
}
animateBackground();

// --- asteroid1.png + asteroid3.jpg only ---
const asteroidImgs = [
  (() => { const img = new Image(); img.src = "asteroid1.jpg"; return img; })(),
  (() => { const img = new Image(); img.src = "asteroid3.jpg"; return img; })()
];
const playerShipImg = new Image(); playerShipImg.src = "spaceship.jpg";

// --- AUDIO SETUP ---
const audioShoot = document.getElementById('audio-shoot');
const audioWin = document.getElementById('audio-win');
const audioLose = document.getElementById('audio-lose');
function playAudio(audio) { if (audio) { audio.currentTime = 0; audio.play(); } }

// --- Malfunction UI ---
const malfunctionMsg = document.getElementById('malfunctionMsg');
function showMalfunction() {
  malfunctionMsg.style.display='block';
  setTimeout(()=>{malfunctionMsg.style.display='none';}, 750);
}

// -- Survival Time UI
const survivalTimeBox = document.getElementById('survivalTimeBox');

// --- GAME CLASSES (malfunctions & tougher asteroids added) ---
class FloatingText {
  constructor(text, x, y, color="yellow") {
    this.text = text; this.x = x; this.y = y; this.color = color; this.alpha = 1; this.lifetime = 1000; this.startTime = Date.now();
  }
  draw(ctx) { ctx.fillStyle = `rgba(${this.color === "red" ? "255,0,0" : "255,255,0"},${this.alpha})`; ctx.font = '20px Arial'; ctx.fillText(this.text, this.x, this.y);}
  update() { const e = Date.now() - this.startTime; if(e > this.lifetime) return false; this.y -= 0.5; this.alpha = 1 - e / this.lifetime; return true; }
}
class Player {
  constructor(game) { this.game = game; this.x = 30; this.y = game.height/2-20; this.displayY = this.y; this.targetY = this.y; this.velocityY = 0;
    this.spring = 0.18; this.damping = 0.66; this.health = 5; this.ammo = 50; this.maxAmmo = 50; this.ammoTimer = 0; this.ammoRechargeInterval = 400;
    this.projectiles = []; this.shootCooldown = 0; this.shootCooldownMax = 200; this.time = 0; this.shipWidth = 120; this.shipHeight = 72;}
  update(dt) { this.time += dt; let f = (this.targetY - this.displayY) * this.spring; this.velocityY += f; this.velocityY *= this.damping;
    this.displayY += this.velocityY; if(this.displayY<0){this.displayY=0;this.velocityY=0;}
    if(this.displayY>this.game.height-this.shipWidth){this.displayY=this.game.height-this.shipWidth;this.velocityY=0;}
    if(this.ammo<this.maxAmmo){this.ammoTimer+=dt;if(this.ammoTimer>this.ammoRechargeInterval){this.ammo++;this.ammoTimer=0;}}
    if(this.shootCooldown>0)this.shootCooldown-=dt;this.projectiles.forEach(p=>p.update());
    this.projectiles=this.projectiles.filter(p=>!p.markedForDeletion);}
  draw(ctx) {
    const ha=6,hs=0.002,hy=Math.sin(this.time*hs)*ha;
    if(playerShipImg.complete && playerShipImg.naturalWidth){const sw=this.shipWidth,s=sw/playerShipImg.height,sh=playerShipImg.width*s;
      this.shipHeight=sw;const px=this.x+sh/2,py=this.displayY+hy+sw/2;ctx.save();ctx.translate(px,py);ctx.rotate(-Math.PI/2);
      ctx.drawImage(playerShipImg,-sw/2,-sh/2,sw,sh);ctx.restore();}
    else{ctx.save();ctx.translate(this.x+this.shipHeight/2,this.displayY+hy+this.shipWidth/2);ctx.rotate(-Math.PI/2);ctx.fillStyle="cyan";
      ctx.fillRect(-this.shipWidth/2,-this.shipHeight/2,this.shipWidth,this.shipHeight);ctx.restore();}
    this.projectiles.forEach(p=>p.draw(ctx));}
  shoot() {
    // 18% chance to jam, with a visual message & no shooting
    if (Math.random() < 0.18) {
      showMalfunction(); // jam!
      return;
    }
    const ha=6,hs=0.002,hy=Math.sin(this.time*hs)*ha;
    if(this.ammo>0&&this.shootCooldown<=0){let gunX=this.x+this.shipWidth;
      if(this.game.doubleGunActive){
        this.projectiles.push(new Projectile(this.game,gunX,this.displayY+hy+28));
        this.projectiles.push(new Projectile(this.game,gunX,this.displayY+hy+this.shipWidth-44));
      }else{
        this.projectiles.push(new Projectile(this.game,gunX,this.displayY+hy+this.shipWidth/2-4));
      }
      this.ammo--;this.game.shotsFired++;this.shootCooldown=this.shootCooldownMax;
      playAudio(audioShoot);
    }
  }
}
class Projectile { constructor(game,x,y){this.game=game;this.x=x;this.y=y;this.width=54;this.height=9;this.speed=10;this.markedForDeletion=false;}
  update(){this.x+=this.speed;if(this.x>this.game.width)this.markedForDeletion=true;}
  draw(ctx){ctx.save();ctx.fillStyle="#2196f3";ctx.fillRect(this.x,this.y,this.width,this.height);ctx.restore();}
}
class FuelBuff { constructor(game){this.game=game;this.size=28;this.x=this.game.width+this.size;this.y=Math.random()*(this.game.height-this.size);this.speed=1.8+Math.random();this.markedForDeletion=false;this.active=true;}
  update(){this.x-=this.speed;if(this.x+this.size<0)this.markedForDeletion=true;}
  draw(ctx){ctx.save();ctx.translate(this.x+this.size/2,this.y+this.size/2);ctx.rotate(Math.PI/4);ctx.beginPath();ctx.moveTo(0,-this.size/2);
    for(let i=1;i<4;i++){ctx.lineTo((this.size/2)*Math.cos(i*Math.PI/2-Math.PI/2),(this.size/2)*Math.sin(i*Math.PI/2-Math.PI/2));}
    ctx.closePath();ctx.fillStyle='red';ctx.globalAlpha=0.84;ctx.fill();ctx.lineWidth=3;ctx.strokeStyle="white";ctx.globalAlpha=1.0;ctx.stroke();ctx.restore();}
}
class Asteroid {
  constructor(game) {
    this.game = game;
    this.size = Math.random() * 40 + 40;
    this.x = this.game.width + this.size/2;
    this.y = Math.random() * (this.game.height - this.size);
    // Asteroids can be crazy fast (12% chance: speed 6-12)
    if (Math.random() < 0.12) {
      this.speed = 6.0 + Math.random() * 6.0;
    } else {
      this.speed = Math.random() * 2.0 + 1.2 + Math.random() * 1.2;
    }
    this.health = Math.ceil(this.size / 15);
    this.markedForDeletion = false;
    this.rotation = Math.random() * Math.PI * 2;
    this.rotationSpeed = (Math.random()-0.5) * 0.022;
    this.fireT = Math.random() * 99999;
    this.imgIdx = Math.floor(Math.random() * asteroidImgs.length);
  }
  update() {
    this.x -= this.speed; this.rotation += this.rotationSpeed; this.fireT += 0.23;
    if (this.x + this.size < 0) this.markedForDeletion = true;
  }
  draw(ctx) {
    const centerX = this.x + this.size/2, centerY = this.y + this.size/2;
    ctx.save(); ctx.translate(centerX,centerY); ctx.rotate(this.rotation);
    for(let i=0;i<6;++i){
      const ang=((Math.PI*2)/6)*i,len=this.size*0.47+Math.sin(this.fireT*0.15+i)*8;
      ctx.save();ctx.rotate(ang);
      let grad=ctx.createRadialGradient(0,-this.size/2.1,4,0,-this.size/2.1,len);
      grad.addColorStop(0,`rgba(255,255,0,0.85)`);grad.addColorStop(0.55,`rgba(255,146,0,0.86)`);
      grad.addColorStop(0.8,`rgba(255,64,0,0.46)`);grad.addColorStop(1,`rgba(255,64,0,0)`);
      ctx.beginPath();ctx.arc(0,len,16,0,Math.PI*2);ctx.fillStyle=grad;
      ctx.globalAlpha=0.8+Math.sin(this.fireT*0.09+i)*0.12;ctx.fill();ctx.restore();}
    ctx.globalAlpha=1;let asteroidImage=asteroidImgs[this.imgIdx];
    if(asteroidImage.complete&&asteroidImage.naturalWidth){
      const iw=asteroidImage.width,ih=asteroidImage.height,box=this.size,scale=Math.min(box/iw,box/ih);
      let w=iw*scale,h=ih*scale; ctx.drawImage(asteroidImage,-w/2,-h/2,w,h);
    }else{ctx.beginPath();ctx.arc(0,0,this.size/2,0,Math.PI*2);ctx.fillStyle="gray";ctx.fill();}
    ctx.restore();
  }
}
class Game {
  constructor(width,height){
    this.width=width;this.height=height;
    this.player=new Player(this);this.asteroids=[];this.fuelBuffs=[];
    this.asteroidTimer=0;this.asteroidInterval=2100+(Math.random()*1000);
    this.fuelBuffTimer=0;this.fuelBuffInterval=5900+(Math.random()*2200);
    this.score=0;this.shotsFired=0;this.successfulHits=0;
    this.fuel=100;this.maxFuel=100;this.fuelDecreasePerSecond=5;
    this.gameOver=false;this.time=0;
    this.doubleGunActive=false;this.doubleGunTimer=0;this.doubleGunCooldown=0;
    this.floatingTexts=[];
  }
  update(deltaTime){
    if(this.gameOver)return;this.time+=deltaTime;this.fuel-=this.fuelDecreasePerSecond*(deltaTime/1000);if(this.fuel<0)this.fuel=0;if(this.fuel===0)this.gameOver=true;this.player.update(deltaTime);this.asteroidTimer+=deltaTime;if(this.asteroidTimer>this.asteroidInterval){this.asteroids.push(new Asteroid(this));this.asteroidInterval=2100+(Math.random()*1000);this.asteroidTimer=0;}this.fuelBuffTimer+=deltaTime;if(this.fuelBuffTimer>this.fuelBuffInterval){this.fuelBuffs.push(new FuelBuff(this));this.fuelBuffInterval=6900+(Math.random()*2200);this.fuelBuffTimer=0;}this.asteroids.forEach(a=>a.update());this.fuelBuffs.forEach(fb=>fb.update());this.asteroids=this.asteroids.filter(a=>!a.markedForDeletion);this.fuelBuffs=this.fuelBuffs.filter(fb=>!fb.markedForDeletion);this.floatingTexts=this.floatingTexts.filter(ft=>ft.update());if(this.doubleGunActive){this.doubleGunTimer-=deltaTime;if(this.doubleGunTimer<=0){this.doubleGunActive=false;document.getElementById('doubleGunPopup').textContent="Double Gun Mode Ended!";document.getElementById('doubleGunPopup').style.display='block';setTimeout(()=>document.getElementById('doubleGunPopup').style.display="none",2000);}}if(this.doubleGunCooldown>0)this.doubleGunCooldown-=deltaTime;this.checkCollisions();this.checkFuelBuffs();}
  draw(ctx){
    this.player.draw(ctx);
    this.asteroids.forEach(a=>a.draw(ctx));
    this.fuelBuffs.forEach(fb=>fb.draw(ctx));
    this.floatingTexts.forEach(ft=>ft.draw(ctx));
    this.drawUI(ctx);
  }
  drawUI(ctx){
    ctx.save();ctx.textAlign="right";ctx.fillStyle='white';ctx.font='18px Arial';
    const secsPassed = Math.floor(this.time/1000);
    const secsLeft = Math.max(0, survivalTimeSecs - secsPassed);
    survivalTimeBox.innerHTML = `<b>Survive!</b> <span>Time left: <b>${secsLeft}</b> s</span>`;
    const lines=[
      `Health: ${this.player.health}`,
      `Ammo: ${this.player.ammo}`,
      `Score: ${this.score}`,
      `Accuracy: ${this.shotsFired?((this.successfulHits/this.shotsFired)*100).toFixed(1):0}%`
    ];
    let startY=40;lines.forEach((line,i)=>{ctx.fillText(line,this.width-20,startY+(26*i));});
    let barWidth=180,barHeight=17,barX=this.width-30-barWidth/2,barY=startY+26*lines.length+18;
    ctx.save();ctx.textAlign="center";ctx.globalAlpha=0.22;ctx.fillStyle="#fff";
    ctx.fillRect(barX,barY,barWidth,barHeight);ctx.globalAlpha=1;
    let fuelRatio=Math.max(0,Math.min(1,this.fuel/this.maxFuel));
    ctx.fillStyle="#ff4444";ctx.fillRect(barX,barY,barWidth*fuelRatio,barHeight);
    ctx.lineWidth=2;ctx.strokeStyle="#fff";ctx.strokeRect(barX,barY,barWidth,barHeight);
    ctx.fillStyle="#fff";ctx.font="15px Arial";ctx.fillText("Fuel",barX+barWidth/2,barY+barHeight+18);
    ctx.restore();ctx.restore();
  }
  checkCollisions(){
    this.player.projectiles.forEach(projectile=>{
      this.asteroids.forEach(asteroid=>{
        if(projectile.x<asteroid.x+asteroid.size&&projectile.x+projectile.width>asteroid.x&&
          projectile.y<asteroid.y+asteroid.size&&projectile.y+projectile.height>asteroid.y){
          asteroid.health--;projectile.markedForDeletion=true;
          if(asteroid.health<=0){
            asteroid.markedForDeletion=true;
            let points=asteroid.size<50?5:10;this.score+=points;
            this.successfulHits++;
            this.floatingTexts.push(new FloatingText("+"+points,asteroid.x,asteroid.y,"yellow"));
          }
        }
      });
    });
    this.asteroids.forEach(asteroid=>{
      if(this.player.x<asteroid.x+asteroid.size&&this.player.x+this.player.shipWidth>asteroid.x&&
        this.player.displayY<asteroid.y+asteroid.size&&this.player.displayY+this.player.shipWidth>asteroid.y){
        asteroid.markedForDeletion=true;let damage=asteroid.size<50?1:2;
        this.player.health-=damage;
        this.floatingTexts.push(new FloatingText("-"+damage,this.player.x+20,this.player.displayY,"red"));
        if(this.player.health<=0)this.gameOver=true;
      }
    });
  }
  checkFuelBuffs(){
    this.fuelBuffs.forEach(buff=>{
      let pLeft=this.player.x,pRight=this.player.x+this.player.shipWidth;
      let pTop=this.player.displayY,pBottom=this.player.displayY+this.player.shipWidth;
      let bLeft=buff.x,bRight=buff.x+buff.size,bTop=buff.y,bBottom=buff.y+buff.size;
      if(pLeft<bRight&&pRight>bLeft&&pTop<bBottom&&pBottom>bTop){
        buff.markedForDeletion=true;let fuelAmount=38;this.fuel=Math.min(this.fuel+fuelAmount,this.maxFuel);
        this.floatingTexts.push(new FloatingText("+Fuel",buff.x,buff.y-15,"red"));
      }
    });
  }
}

// ---- Main animation ----
let survivalTimeSecs = 0;

const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
let game, lastTime = 0, isMouseDown = false, animId, gameEnded = false;

function startGame() {
  // choose random duration between 60-80s
  survivalTimeSecs = Math.floor(60 + Math.random()*21); // [60,80]
  game = new Game(canvas.width, canvas.height); 
  lastTime = 0; isMouseDown = false; cancelAnimationFrame(animId); animate(); gameEnded = false;
}
function animate(timeStamp = 0) {
  const deltaTime = timeStamp - lastTime;
  lastTime = timeStamp;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  if (isMouseDown) game.player.shoot();
  game.update(deltaTime);
  game.draw(ctx);

  const secsPassed = Math.floor(game.time/1000);
  const secsLeft = Math.max(0, survivalTimeSecs - secsPassed);

  let message = "";
  if ((game.fuel <= 0) || (game.player.health <= 0)) { message = "You Lost!"; }
  else if (secsLeft <= 0) { message = "You Survived!"; }

  if (!message) { animId = requestAnimationFrame(animate); gameEnded = false; }
  else {
    if (!gameEnded) {
      if (message === "You Survived!") playAudio(audioWin);
      else playAudio(audioLose);
      gameEnded = true;
    }
    let accuracy = game.shotsFired ? ((game.successfulHits / game.shotsFired) * 100).toFixed(1) : 0;
    document.querySelector("#gameOverDialog h2").textContent = message;
    finalScoreText.textContent = `Score: ${game.score} | Accuracy: ${accuracy}% | Survival Time: ${survivalTimeSecs} s`;
    gameOverDialog.style.display = 'block';
  }
}
startGame();

const gameOverDialog = document.getElementById('gameOverDialog');
const finalScoreText = document.getElementById('finalScore');
const restartBtn = document.getElementById('restartBtn');
const doubleGunPopup = document.getElementById('doubleGunPopup');
restartBtn.addEventListener('click', () => {
  gameOverDialog.style.display = 'none'; startGame(); gameEnded = false;
});
canvas.addEventListener('mousemove', e => {
  const rect = canvas.getBoundingClientRect();
  const mouseY = e.clientY - rect.top;
  game.player.targetY = Math.min(Math.max(mouseY - game.player.shipWidth / 2, 0), game.height - game.player.shipWidth);
});
canvas.addEventListener('mousedown', () => { isMouseDown = true; });
canvas.addEventListener('mouseup', () => { isMouseDown = false; });
canvas.addEventListener('dblclick', () => {
  if (game.doubleGunCooldown <= 0 && !game.doubleGunActive) {
    game.doubleGunActive = true;
    game.doubleGunTimer = 7000;
    game.doubleGunCooldown = 12000;
    doubleGunPopup.textContent = "Double Gun Mode Activated!";
    doubleGunPopup.style.display = 'block';
    setTimeout(()=>doubleGunPopup.style.display="none",2000);
  }
});
window.addEventListener('resize', () => {
  resizeBgCanvas();
  starNet.resize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
